## 📌4주차 개발 목표

- [**JUnit과 AssertJ의 활용 범위를 넓히자!**](https://www.baeldung.com/parameterized-tests-junit-5)
    - `@MethodSource` `@VariableSource` 사용하기
- **private 함수를 테스트 하고 싶다면 클래스(객체) 분리를 고려하자**
    - private 함수를 외부로 꺼내서 해당 기능의 역할에 맞는 도메인에 public 으로 사용하자
      → 해당 역할을 수행하는 다른 객체를 만들 타이밍
- 필드를 최소화 하기 위해 `Class` , `Collectionenum` 을 적극 활용하자
- final 키워드를 사용 해 불변 값을 명시하자

## 🖥️기능 목록
|    **👾 도메인**     	    | **🛠️ 기능**          	       | **📰 설명**                                 	                                |
|:----------------------:|:----------------------------|:---------------------------------------------------------------------------|
|     `크리스마스 이벤트`   	     | 게임 시작                     	 | 로또 게임의 전체적인 흐름을 컨트롤하는 역할                                  |
|     `사용자 입력 유효성 검사`   	     | 날짜 유효성 검사               | 공백, 숫자 외 문자 입력, 숫자 1~31 벗어날 경우                                 |
|     `사용자 입력 유효성 검사`   	     | 💭[메뉴 유효성 검사](https://screeching-knave-349.notion.site/891771864f8e4420b4ef4c8216e8d2df?pvs=4)    | 사용자가 입력한 “메뉴-갯수” 에 대한 유효성 검증을 한다.        |
|     `ReservationDate`   	     | 사용자 예약 날짜                     	 | 사용자의 이벤트 예약 날짜를 담당하는 도메인으로 예약 날짜와 요일을 관리한다.       |
|     `ReservationMenu`   	     | 사용자 예약 메뉴                     	 | 사용자의 이벤트 예약 메뉴를 담당하는 도메인으로 메뉴와 메뉴 갯수를 관리한다.     	  |
|     `UserReservation`   	     | 회원 예약                     	 | 사용자의 예약 정보를 담당하는 도메인으로 예약날짜와 예약메뉴를 관리한다.            |
|     `DayType`   	     | 요일                     	 | 월요일 ~ 일요일 정의                                	                              |
|     `AnniversaryDate`   	     | 기념일 날짜                     	 | 기념일의 날짜와 요일을 정의                               	             |
|    `Event`,`증정 이벤트`   	    | 25000원 샴페인 증정           	   | 할인 전 총 주문 금액이 12만 원 이상, 그렇지 않을 경우 “없음”             |
|    `Event`,`금액할인 이벤트` 	    | 크리스마스 디데이 할인        	       | 1000원 시작, 날마다 100원씩 증가.</br>(최소 1000원/최대 3400원)               |
|    `Event`,`금액할인 이벤트` 	    | 평일 할인                     	 | 일,월,화,수,목,금 적용</br>디저트 메뉴 1개당 2023원 할인                  |
|    `Event`,`금액할인 이벤트` 	    | 주말 할인                     	 | 금,토 적용</br>메인 메뉴 1개당 2023원 할인                                    |
|    `Event`,`금액할인 이벤트` 	    | 특별 할인                     	 | 일,크리스마스 적용 → 크리스마스 따로 구분필요 </br>별 표시 1000원 할인           	       |
|   `EventBadge`      	    | 총 혜택 금액에 따른 배지      	       | 5000-별</br>10000-트리</br>20000-산타 / 없음                                    	 |
|     `이벤트 참여조건`    	      | 1만원 이상부터 이벤트 참여    	        | 1만원 미만일 경우 이벤트 참여 불가, 주문은 가능                            |
|     `이벤트 참여조건`    	      | 음료 외 다른 음식 포함        	      | 음료 단독 주문일 경우 이벤트 참여 불가, 주문은 가능 </br> → 메뉴에서 음료 구별 필요         |
|     `이벤트 참여조건`    	      | 주문 메뉴 갯수 20개 까지 가능 	        | 21개부터 이벤트 참여 불가, 주문은 가능                                      	     |
|     `이벤트 메세지`     	      | 💭[이벤트 메세지](https://screeching-knave-349.notion.site/d148a728e60447958dc3b3499779c8b8?pvs=4)             	 | 이벤트 메세지를 UI에 표출                              |
|     `사용자 메세지`     	      | 💭[사용자가 입력한 메세지](https://screeching-knave-349.notion.site/ca0135835fa94ae38e263bb69d7c5b56?pvs=4)          | 사용자가 입력한 메세지를 UI에 표출                             |
|   `ErrorMessage`     	   | 💭[예외 처리 예외메세지](https://screeching-knave-349.notion.site/1527386c59274d0b83b73e99943c36be?pvs=4)          | 예외 발생 시 메세지를 출력하고 해당 시점부터 다시 시작한다.              |
|   `InputView`       	    | 💭[사용자 입력 출력 화면](https://screeching-knave-349.notion.site/fb5b07038914493fabc1cd51ff00827c?pvs=4)          | 메세지를 출력하고 사용자의 입력을 받는 화면                     |
|   `OutputView`      	    | 💭[결과 출력 화면](https://screeching-knave-349.notion.site/9ef618737ee74de2888dfe1042b17c56?pvs=4)                	   | 사용자가 입력한 결과를 출력하는 화면                	              |
|   `PrintUtil`       	    | UI 출력 기능                	   | UI에 출력하기 위한 기능  	                               |
---
## 주요 도메인 설계 
### 🪄여러가지 이벤트를 어떻게 그룹화 시킬까?

1. 사용자가 입력한 날짜의 요일을 알아야 한다.
    1. 디폴트 값은 2023년 12월 / 일 만 입력 받은 후 요일을 알아낸다

    ```java
    // 1. LocalDate 생성
    LocalDate date = LocalDate.of(2021, 12, value);
    System.out.println(date); // 2021-12-25
    
    // 2. DayOfWeek 객체 구하기
    DayOfWeek dayOfWeek = date.getDayOfWeek();
    
    // 3. 텍스트 요일 구하기 (영문)
    System.out.println(dayOfWeek.getDisplayName(TextStyle.FULL, Locale.US)); // Saturday
    ```

2. `enum` 월~일 , 크리스마스
3. `Interface` Event 를 만든 후 이벤트(`Class`) 별로 구현하도록 한다.
4. 이벤트 별 조건
    1. 증정 이벤트: 금액
    2. 크리스마스 디데이 할인: 금액, 기간(1일~25일 100원씩 증가)
    3. 평일 할인: 요일 - 디저트
    4. 주말 할인: 요일 - 메인메뉴
    5. 특별 할인: 요일, 크리스마스
   
</br>

### 🪄메뉴를 어떻게 그룹화 시킬까?

메인인지, 디저트인지, 음료인지 구별이 되어야 한다.

1. 사용자의 입력에 유효한 메뉴만 있는건지
2. 사용자의 입력이 음료만 있는건지
3. 디저트 할인은 되는지
4. 메인메뉴 할인이 되는지

- `enum` 메뉴
    - 에피타이저/양송이수프/6,000
    - 에피타이저/타파스/5,500
    - 에피타이저/시저샐러드/8,000
    - 메인/티본스테이크/55,000
    - 메인/바비큐립/54,000
    - 메인/해산물파스타/35,000
    - 메인/크리스마스파스타/25,000
    - 디저트/초코케이크/15,000
    - 디저트/아이스크림/5,000
    - 음료/제로콜라/3,000
    - 음료/레드와인/60,000
    - 음료/샴페인/25,000

</br>

### 🪄`InputView`,`OutputView`클래스를 어떻게 활용할까?

`InputView`: 사용자의 입력을 받고 최소한의 유효성 검증 후 값을 반환하는 곳

`OutputView`: 가공된 사용자의 입력 값을 받아서 화면에 보여주기

✔️View 는 UI 에 표출하는 공간으로 다른 비즈니스 로직을 알 필요가 없다.

✔️도메인 로직과 View는 서로 알 필요가 없다.